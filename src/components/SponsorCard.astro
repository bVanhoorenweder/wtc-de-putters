---
import type { Sponsor } from '../data/sponsors';

interface Props {
  sponsor: Sponsor;
}

const { sponsor } = Astro.props;
---

<div class="h-full flex flex-col group bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-400 overflow-hidden hover:-translate-y-1 border-2 border-gray-100 hover:border-encox-primary">
  <!-- Header with gradient -->
  <div class="bg-gradient-to-r from-encox-primary to-encox-secondary p-5 text-white text-center relative overflow-hidden">
    <div class="absolute inset-0 opacity-20 bg-pattern"></div>
    <div class="relative z-10">
      <div class="text-3xl mb-2">ü§ù</div>
      <div class="text-sm font-heading font-bold uppercase tracking-wider">
        Partner
      </div>
    </div>
  </div>

  <!-- Content - flex-1 to fill space -->
  <div class="flex-1 flex flex-col p-6">
    <!-- Name & Category -->
    <div class="text-center mb-4">
      <h3 class="text-xl font-heading font-bold text-encox-heading mb-1 group-hover:text-encox-primary transition-colors">
        {sponsor.name}
      </h3>
      <div class="text-xs uppercase tracking-wider text-encox-text/60 font-semibold">
        {sponsor.category}
      </div>
    </div>

    <!-- Description -->
    <p class="text-encox-text text-sm leading-relaxed mb-6 text-center flex-1">
      {sponsor.description}
    </p>

    <!-- Contact Info - at bottom -->
    <div class="space-y-2 border-t border-gray-100 pt-4 mt-auto">
      {sponsor.website && (
        <a
          href={sponsor.website}
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center gap-2 text-xs text-encox-text hover:text-encox-primary transition-colors"
        >
          <span class="text-base">üåê</span>
          <span class="flex-1 truncate">{sponsor.website.replace('https://', '')}</span>
        </a>
      )}

      {sponsor.email && (
        <a
          href={`mailto:${sponsor.email}`}
          class="flex items-center gap-2 text-xs text-encox-text hover:text-encox-primary transition-colors"
        >
          <span class="text-base">üìß</span>
          <span class="flex-1 truncate">{sponsor.email}</span>
        </a>
      )}

      {sponsor.phone && (
        <a
          href={`tel:${sponsor.phone}`}
          class="flex items-center gap-2 text-xs text-encox-text hover:text-encox-primary transition-colors"
        >
          <span class="text-base">üìû</span>
          <span class="truncate">{sponsor.phone}</span>
        </a>
      )}

      {sponsor.facebook && (
        <a
          href={sponsor.facebook}
          target="_blank"
          rel="noopener noreferrer"
          class="flex items-center gap-2 text-xs text-encox-text hover:text-encox-primary transition-colors"
        >
          <span class="text-base">üë•</span>
          <span class="flex-1 truncate">Facebook</span>
        </a>
      )}
    </div>
  </div>
</div>

<style>
  .bg-pattern {
    background-image: url('data:image/svg+xml,%3Csvg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="%23ffffff" fill-opacity="0.4"%3E%3Cpath d="M0 0h20L0 20z"/%3E%3C/g%3E%3C/svg%3E');
  }
</style>